<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>memory host</title>
  <link rel="stylesheet" href="style.css"/>
</head>

<body>
  <div class="terminal">
    <!-- Prompt and countdown -->
    <div class="line prompt">
      <span class="prompt-text">C:\MEMORY HOST</span>
      <span class="countdown-text">\\  <span id="countdown">00:00:00</span></span>
    </div>

    <!-- Navigation -->
    <div class="line">Click to navigate.</div>
:: Link  Directory :: 
    
  <a href="#" id="demos-link">&gt;[demos]</a>&nbsp;&nbsp;
  <a href="loading_fn.html">&gt;[field notes]</a>
  <a href="https://www.instagram.com/memory_host/" target="_blank" rel="noopener noreferrer">&gt;[contact]</a>
  

    <!-- Hidden demos webplayer -->
    <div id="webplayer" class="webplayer hidden"><audio id="player" controls style="margin-top: .2rem;"></audio>
      <div class="line">:: playback utility ::</div>
      <a href="#" onclick="playTrack(event, 'ID_01.mp3')">ID_01.mp3</a>
      <a href="#" onclick="playTrack(event, 'ID_02.mp3')">ID_02.mp3</a>
      <a href="#" onclick="playTrack(event, 'ID_03.mp3')">ID_03.mp3</a>
</div>

    <!--  footer -->
    <div class="footer">
    //  history is corrupted
    //  recall comes in fragments
    //  Memory Host is a protected container <span class="blinker"></span>
    </div>
  </div>

  
<!-- Keyword Search Terminal -->
<div class="terminal">
 
  <div class="line">
    <input id="keywordInput" class="dos-input wide" type="text" placeholder="type a keyword..." oninput="debouncedHandleInput()" />
  </div>

  <div id="terminalOutput" class="terminal-output">
    <div class="line">// waiting for valid input...</div>
  </div>
</div>
  
  
  
  
  <!-- Scripts -->
  <script>
  // Countdown timer setup
  const targetDate = new Date("July 20, 2025 18:00:00");
  const countdownEl = document.getElementById("countdown");

  function updateCountdown() {
    const now = new Date();
    const diff = Math.max(0, Math.floor((targetDate - now) / 1000));
    const hours = String(Math.floor(diff / 3600)).padStart(2, '0');
    const minutes = String(Math.floor((diff % 3600) / 60)).padStart(2, '0');
    const seconds = String(diff % 60).padStart(2, '0');
    countdownEl.textContent = `${hours}:${minutes}:${seconds}`;
  }

  updateCountdown();
  setInterval(updateCountdown, 1000);

  // Toggle web player visibility on [demos] click
  document.getElementById('demos-link').addEventListener('click', function (e) {
    e.preventDefault();
    const player = document.getElementById('webplayer');
    player.classList.toggle('hidden');
  });

  // Play audio tracks from /audio/ directory
  function playTrack(event, filename) {
  event.preventDefault(); // stops page jump to top
  const audio = document.getElementById('player');
  audio.src = 'audio/' + filename;
  audio.play();
}
    
    function handleKeywordInput() {
  const input = document.getElementById("keywordInput").value.trim().toLowerCase();
  const output = document.getElementById("terminalOutput");

  switch (input) {
    case "context":
      output.innerHTML = `<div class="line">:: CONTEXT MODULE LOADED ::</div>
<div class="line">// the container is shaped by influence and memory.</div>
<div class="line">// initiating passive recall protocol...</div>`;
      break;

    case "manimogo":
      output.innerHTML = `<div class="line">:: SEARCH TERM "MANIMOGO" FOUND ::</div>
<div class="line">// fragments decoded from signal drift</div>
<div class="line">[o_o]  : [>_<]  : [^_^]  : [x_x]</div>`;
      break;

    case "locations":
      output.innerHTML = `<div class="line">:: TERM: "LOCATIONS FOUND ::</div>
<div class="line">- 00x-22 // new york city</div>
<div class="line">- 01x-09 // tokyo</div>
<div class="line">- 02x-40 // london</div>`;
      break;

    default:
      output.innerHTML = `<div class="line">// waiting for valid input...</div>`;
  }
}
    
    
</script>
    
    <script>
let inputTimer;

function debouncedHandleInput() {
  clearTimeout(inputTimer);
  inputTimer = setTimeout(handleKeywordInput, 500); // wait 500ms after typing stops
}

function handleKeywordInput() {
  const input = document.getElementById("keywordInput").value.trim().toLowerCase();
  const output = document.getElementById("terminalOutput");
  output.innerHTML = ""; // clear old output

  let lines = [];

  /* Change text in terminal. This breaks when quotes are used */
  
  
  switch (input) {
    case "context":
      lines = [
        ":: SEARCH TERM 'CONTEXT' FOUND ::",
        " ",
        "/Memory Host started as a thought spiral about memory and experinece. It's a reminder that we are machine, but these machines hold beautiful experiences.",
        " ",
        "> I cherish memories, good and bad, as infalliable as they may be. The music is my call out to the word, to find those who share this energy."
      ];
      break;

    case "manimogo":
      lines = [
        ":: MANIMOGO ARCHIVE FOUND ::",
        "// fragments decoded from signal drift",
        "[o_o]  : [>_<]  : [^_^]  : [x_x]"
      ];
      break;

    case "locations":
      lines = [
        ":: LOCATIONS found ::",
        " ",
        "> --HQ-- // nyc",
        "> 01x-09 // tko",
        "> 02x-40 // atl",
        "> 02x-40 // ldn"
      ];
      break;
      
    
      case "shrey":
  lines = [
    ":: WINDIA PROTOCOL ENGAGED ::",
    `     
      __________ 
     |+-------+|
    (||       ||)
    |||_______|||
    || o  o  o ||
    ||  .-"-.  ||
    ||  _____  ||
    || (     ) ||
    || (     ) ||
    ||  ‾‾‾‾‾  ||
    ||_________||
 `  
  ];

        break;
      case "peppi":
  lines = [
    ":: BUSSI ::",
    `     
   _____________
 _/_|[][][][][] | - -
(               | - -
=--OO-------OO--=
 `  
  ];
      
   break;
    default:
      lines = ["// unknown keyword. try again."];
  }

  typeLines(lines, output);
}

function typeLines(lines, container) {
  let lineIndex = 0;

  function typeNextLine() {
    if (lineIndex >= lines.length) return;

    const lineText = lines[lineIndex];
    const lineElement = document.createElement("div");
    lineElement.classList.add("line");
    container.appendChild(lineElement);

    typeText(lineText, lineElement, () => {
      lineIndex++;
      setTimeout(typeNextLine, 300); // delay between lines
    });
  }

  typeNextLine();
}

function typeText(text, element, callback) {
  let i = 0;

  function typeChar() {
    if (i >= text.length) {
      callback();
      return;
    }

    element.innerHTML += text.charAt(i);
    i++;
    setTimeout(typeChar, 15 + Math.random() * 10); // very fast + slight variation
  }

  typeChar();
}
</script>



  
  
  
</body>
</html>
